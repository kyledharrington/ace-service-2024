{"version":15,"variables":[{"key":"Cluster","type":"query","input":"fetch dt.entity.kubernetes_cluster\n| fields entity.name\n| sort entity.name asc","multiple":false,"visible":true},{"key":"Namespace","type":"query","input":"fetch dt.entity.cloud_application_namespace\n| fields id, name = entity.name\n| filter in(id, classicEntitySelector(concat(\"type(CLOUD_APPLICATION_NAMESPACE),toRelationship.isClusterOfNamespace(type(KUBERNETES_CLUSTER),entityName.equals(\", $Cluster, \"))\")))\n| fields name\n| sort name asc","multiple":false,"visible":true}],"tiles":{"6":{"type":"data","title":"Cluster CPU Utilization Contribution","query":"timeseries {\n  cpu_usage = sum(dt.kubernetes.container.cpu_usage)\n}, filter: {\n  k8s.cluster.name == $Cluster\n}, by: { k8s.cluster.name },\nfrom: -2m\n| fieldsAdd cpu_usage_cluster = arrayFirst(cpu_usage)\n| fieldsRemove cpu_usage\n| join [\n  timeseries {\n    cpu_usage = sum(dt.kubernetes.container.cpu_usage)\n  }, filter: {\n    k8s.cluster.name == $Cluster AND\n    k8s.namespace.name == $Namespace\n  }, by: { k8s.namespace.name, k8s.cluster.name },\n  from: -2m\n], executionOrder: leftFirst, on: { k8s.cluster.name }, fields: { cpu_usage }\n| fieldsAdd cpu_usage_namespace = arrayFirst(cpu_usage)\n| fieldsAdd cpu_usage_percent = cpu_usage_namespace * 100  / cpu_usage_cluster","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[{"id":1,"field":"cpu_usage_percent","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-status-ideal-default, #2f6863)"},"comparator":"≥","label":"","value":0},{"id":1,"color":{"Default":"var(--dt-colors-charts-categorical-color-14-default, #d56b1a)"},"comparator":"≥","label":"","value":70},{"id":2,"color":{"Default":"var(--dt-colors-charts-status-critical-default, #c4233b)"},"comparator":"≥","label":"","value":90}]}],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"k8s.cluster.name","categoryAxisLabel":"k8s.cluster.name","valueAxis":"cpu_usage_cluster","valueAxisLabel":"cpu_usage_cluster"},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["cpu_usage"],"leftAxisDimensions":["k8s.cluster.name","cpu_usage_cluster","cpu_usage_namespace","cpu_usage_percent"]},"hiddenLegendFields":[]},"singleValue":{"showLabel":false,"label":"","prefixIcon":"","recordField":"cpu_usage_percent","autoscale":true,"sparklineSettings":{"isVisible":false,"showTicks":false},"alignment":"center","trend":{"isVisible":false},"colorThresholdTarget":"background"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"honeycomb":{"shape":"hexagon","legend":"auto","dataMappings":{"value":"k8s.cluster.name"},"displayedFields":["k8s.cluster.name"],"colorMode":"color-palette","colorPalette":"categorical"},"histogram":{"dataMappings":[{"valueAxis":"interval","rangeAxis":""},{"valueAxis":"cpu_usage_cluster","rangeAxis":""},{"valueAxis":"cpu_usage_namespace","rangeAxis":""},{"valueAxis":"cpu_usage_percent","rangeAxis":""}]},"unitsOverrides":[{"identifier":"cpu_usage_percent","unitCategory":"percentage","baseUnit":"percent","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":1716814972871}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"7":{"type":"data","title":"Cluster Memory Utilization Contribution","query":"timeseries {\n  memory_usage = sum(dt.kubernetes.container.memory_working_set)\n}, filter: {\n  k8s.cluster.name == $Cluster\n}, by: { k8s.cluster.name },\nfrom: -2m\n| fieldsAdd memory_usage_cluster = arrayFirst(memory_usage)\n| fieldsRemove memory_usage\n| join [\n  timeseries {\n    memory_usage = sum(dt.kubernetes.container.memory_working_set)\n  }, filter: {\n    k8s.cluster.name == $Cluster AND\n    k8s.namespace.name == $Namespace\n  }, by: { k8s.namespace.name, k8s.cluster.name },\n  from: -2m\n], executionOrder: leftFirst, on: { k8s.cluster.name }, fields: { memory_usage }\n| fieldsAdd memory_usage_namespace = arrayFirst(memory_usage)\n| fieldsAdd memory_usage_percent = memory_usage_namespace * 100  / memory_usage_cluster","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[{"id":1,"field":"memory_usage_percent","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-status-ideal-default, #2f6863)"},"comparator":"≥","label":"","value":0},{"id":1,"color":{"Default":"var(--dt-colors-charts-categorical-color-14-default, #d56b1a)"},"comparator":"≥","label":"","value":70},{"id":2,"color":{"Default":"var(--dt-colors-charts-status-critical-default, #c4233b)"},"comparator":"≥","label":"","value":90}]}],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"k8s.cluster.name","categoryAxisLabel":"k8s.cluster.name","valueAxis":"memory_usage_cluster","valueAxisLabel":"memory_usage_cluster"},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["memory_usage"],"leftAxisDimensions":["k8s.cluster.name","memory_usage_cluster","memory_usage_namespace","memory_usage_percent"]},"hiddenLegendFields":["k8s.cluster"]},"singleValue":{"showLabel":false,"label":"","prefixIcon":"","recordField":"memory_usage_percent","autoscale":true,"sparklineSettings":{"isVisible":false,"showTicks":false},"alignment":"center","trend":{"isVisible":false},"colorThresholdTarget":"background"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"honeycomb":{"shape":"hexagon","legend":"auto","dataMappings":{"value":"k8s.cluster.name"},"displayedFields":["k8s.cluster.name"],"colorMode":"color-palette","colorPalette":"categorical"},"histogram":{"dataMappings":[{"valueAxis":"interval","rangeAxis":""},{"valueAxis":"memory_usage_cluster","rangeAxis":""},{"valueAxis":"memory_usage_namespace","rangeAxis":""},{"valueAxis":"memory_usage_percent","rangeAxis":""}]},"unitsOverrides":[{"identifier":"memory_usage_percent","unitCategory":"percentage","baseUnit":"percent","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":1715164486934}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"8":{"type":"data","title":"Pods","query":"timeseries {\n  pods_namespace = sum(dt.kubernetes.pods)\n}, filter: {\n  k8s.cluster.name == $Cluster AND\n  k8s.namespace.name == $Namespace\n}, by: { k8s.namespace.name },\nfrom: -2m\n| fieldsAdd pods_namespace = arrayFirst(pods_namespace)","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"k8s.namespace.name","categoryAxisLabel":"k8s.namespace.name","valueAxis":"pods_namespace","valueAxisLabel":"pods_namespace"},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["interval"],"leftAxisDimensions":["k8s.namespace.name"]},"hiddenLegendFields":["k8sspace.name"]},"singleValue":{"showLabel":false,"label":"","prefixIcon":"","recordField":"pods_namespace","autoscale":true,"sparklineSettings":{"isVisible":true,"showTicks":false},"alignment":"center","trend":{"isVisible":true},"colorThresholdTarget":"background"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"honeycomb":{"shape":"hexagon","legend":"auto","dataMappings":{"value":"k8s.namespace.name"},"displayedFields":["k8s.namespace.name"],"colorMode":"color-palette","colorPalette":"categorical"},"histogram":{"dataMappings":[{"valueAxis":"interval","rangeAxis":""},{"valueAxis":"pods_namespace","rangeAxis":""}]},"unitsOverrides":[]},"querySettings":{"maxResultRecords":20000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"9":{"type":"data","title":"CPU Requests Utilization","query":"timeseries {\n  cpu_usage = sum(dt.kubernetes.container.cpu_usage),\n  requests_cpu = sum(dt.kubernetes.container.requests_cpu)\n}, filter: {\n  k8s.cluster.name == $Cluster AND\n  k8s.namespace.name == $Namespace\n}, by: { k8s.namespace.name },\nfrom: -2m\n| fieldsAdd cpu_usage_namespace = arrayFirst(cpu_usage)\n| fieldsAdd cpu_requests_namespace = arrayFirst(requests_cpu)\n| fieldsAdd cpu_requests_utilization_percent = cpu_usage_namespace * 100 / cpu_requests_namespace","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[{"id":1,"field":"cpu_requests_utilization_percent","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-status-ideal-default, #2f6863)"},"comparator":"≥","label":"","value":0},{"id":1,"color":{"Default":"var(--dt-colors-charts-categorical-color-14-default, #d56b1a)"},"comparator":"≥","label":"","value":100},{"id":2,"color":{"Default":"var(--dt-colors-charts-status-critical-default, #c4233b)"},"comparator":"≥","label":"","value":130}]}],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"k8s.namespace.name","categoryAxisLabel":"k8s.namespace.name","valueAxis":"cpu_usage_namespace","valueAxisLabel":"cpu_usage_namespace"},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["cpu_usage","requests_cpu"],"leftAxisDimensions":["k8s.namespace.name","cpu_usage_namespace","cpu_requests_namespace","cpu_requests_utilization_percent"]},"hiddenLegendFields":["k8sspace.name"]},"singleValue":{"showLabel":false,"label":"","prefixIcon":"","recordField":"cpu_requests_utilization_percent","autoscale":true,"sparklineSettings":{"isVisible":false,"showTicks":false},"alignment":"center","trend":{"isVisible":false},"colorThresholdTarget":"background"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"honeycomb":{"shape":"hexagon","legend":"auto","dataMappings":{"value":"k8s.namespace.name"},"displayedFields":["k8s.namespace.name"],"colorMode":"color-palette","colorPalette":"categorical"},"histogram":{"dataMappings":[{"valueAxis":"interval","rangeAxis":""},{"valueAxis":"cpu_usage_namespace","rangeAxis":""},{"valueAxis":"cpu_requests_namespace","rangeAxis":""},{"valueAxis":"cpu_requests_utilization_percent","rangeAxis":""}]},"unitsOverrides":[{"identifier":"cpu_requests_utilization_percent","unitCategory":"percentage","baseUnit":"percent","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":1715164486934}]},"querySettings":{"maxResultRecords":20000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"10":{"type":"data","title":"Memory Requests Utilization","query":"timeseries {\n  memory_usage = sum(dt.kubernetes.container.memory_working_set),\n  requests_memory = sum(dt.kubernetes.container.requests_memory)\n}, filter: {\n  k8s.cluster.name == $Cluster AND\n  k8s.namespace.name == $Namespace\n}, by: { k8s.namespace.name },\nfrom: -2m\n| fieldsAdd memory_usage_namespace = arrayFirst(memory_usage)\n| fieldsAdd memory_requests_namespace = arrayFirst(requests_memory)\n| fieldsAdd memory_requests_utilization_percent = memory_usage_namespace * 100 / memory_requests_namespace","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[{"id":1,"field":"memory_requests_utilization_percent","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-status-ideal-default, #2f6863)"},"comparator":"≥","label":"","value":0},{"id":1,"color":{"Default":"var(--dt-colors-charts-categorical-color-14-default, #d56b1a)"},"comparator":"≥","label":"","value":100},{"id":2,"color":{"Default":"var(--dt-colors-charts-status-critical-default, #c4233b)"},"comparator":"≥","label":"","value":130}]}],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"k8s.namespace.name","categoryAxisLabel":"k8s.namespace.name","valueAxis":"memory_usage_namespace","valueAxisLabel":"memory_usage_namespace"},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["memory_usage","requests_memory"],"leftAxisDimensions":["k8s.namespace.name","memory_usage_namespace","memory_requests_namespace","memory_requests_utilization_percent"]},"hiddenLegendFields":["k8sspace.name"]},"singleValue":{"showLabel":false,"label":"","prefixIcon":"","recordField":"memory_requests_utilization_percent","autoscale":true,"sparklineSettings":{"isVisible":false,"showTicks":false},"alignment":"center","trend":{"isVisible":false},"colorThresholdTarget":"background"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"honeycomb":{"shape":"hexagon","legend":"auto","dataMappings":{"value":"k8s.namespace.name"},"displayedFields":["k8s.namespace.name"],"colorMode":"color-palette","colorPalette":"categorical"},"histogram":{"dataMappings":[{"valueAxis":"interval","rangeAxis":""},{"valueAxis":"memory_usage_namespace","rangeAxis":""},{"valueAxis":"memory_requests_namespace","rangeAxis":""},{"valueAxis":"memory_requests_utilization_percent","rangeAxis":""}]},"unitsOverrides":[{"identifier":"memory_requests_utilization_percent","unitCategory":"percentage","baseUnit":"percent","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":1715164486934}]},"querySettings":{"maxResultRecords":20000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"11":{"type":"data","title":"CPU Limits Utilization","query":"timeseries {\n  cpu_usage = sum(dt.kubernetes.container.cpu_usage),\n  limits_cpu = sum(dt.kubernetes.container.limits_cpu)\n}, filter: {\n  k8s.cluster.name == $Cluster AND\n  k8s.namespace.name == $Namespace\n}, by: { k8s.namespace.name },\nfrom: -2m\n| fieldsAdd cpu_usage_namespace = arrayFirst(cpu_usage)\n| fieldsAdd cpu_limits_namespace = arrayFirst(limits_cpu)\n| fieldsAdd cpu_limits_utilization_percent = cpu_usage_namespace * 100 / cpu_limits_namespace","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[{"id":1,"field":"cpu_limits_utilization_percent","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-status-ideal-default, #2f6863)"},"comparator":"≥","label":"","value":0},{"id":1,"color":{"Default":"var(--dt-colors-charts-categorical-color-14-default, #d56b1a)"},"comparator":"≥","label":"","value":100},{"id":2,"color":{"Default":"var(--dt-colors-charts-status-critical-default, #c4233b)"},"comparator":"≥","label":"","value":150}]}],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"k8s.namespace.name","categoryAxisLabel":"k8s.namespace.name","valueAxis":"cpu_usage_namespace","valueAxisLabel":"cpu_usage_namespace"},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["cpu_usage","limits_cpu"],"leftAxisDimensions":["k8s.namespace.name","cpu_usage_namespace","cpu_limits_namespace","cpu_limits_utilization_percent"]},"hiddenLegendFields":["k8sspace.name"]},"singleValue":{"showLabel":false,"label":"","prefixIcon":"","recordField":"cpu_limits_utilization_percent","autoscale":true,"sparklineSettings":{"isVisible":false,"showTicks":false},"alignment":"center","trend":{"isVisible":false},"colorThresholdTarget":"background"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"honeycomb":{"shape":"hexagon","legend":"auto","dataMappings":{"value":"k8s.namespace.name"},"displayedFields":["k8s.namespace.name"],"colorMode":"color-palette","colorPalette":"categorical"},"histogram":{"dataMappings":[{"valueAxis":"interval","rangeAxis":""},{"valueAxis":"cpu_usage_namespace","rangeAxis":""},{"valueAxis":"cpu_limits_namespace","rangeAxis":""},{"valueAxis":"cpu_limits_utilization_percent","rangeAxis":""}]},"unitsOverrides":[{"identifier":"cpu_limits_utilization_percent","unitCategory":"percentage","baseUnit":"percent","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":1715164486934}]},"querySettings":{"maxResultRecords":20000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"12":{"type":"data","title":"Memory Limits Utilization","query":"timeseries {\n  memory_usage = sum(dt.kubernetes.container.memory_working_set),\n  limits_memory = sum(dt.kubernetes.container.limits_memory)\n}, filter: {\n  k8s.cluster.name == $Cluster AND\n  k8s.namespace.name == $Namespace\n}, by: { k8s.namespace.name },\nfrom: -2m\n| fieldsAdd memory_usage_namespace = arrayFirst(memory_usage)\n| fieldsAdd memory_limits_namespace = arrayFirst(limits_memory)\n| fieldsAdd memory_limits_utilization_percent = memory_usage_namespace * 100 / memory_limits_namespace","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[{"id":1,"field":"memory_limits_utilization_percent","title":"","isEnabled":true,"rules":[{"id":0,"color":{"Default":"var(--dt-colors-charts-status-ideal-default, #2f6863)"},"comparator":"≥","label":"","value":0},{"id":1,"color":{"Default":"var(--dt-colors-charts-categorical-color-14-default, #d56b1a)"},"comparator":"≥","label":"","value":70},{"id":2,"color":{"Default":"var(--dt-colors-charts-status-critical-default, #c4233b)"},"comparator":"≥","label":"","value":90}]}],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"k8s.namespace.name","categoryAxisLabel":"k8s.namespace.name","valueAxis":"memory_usage_namespace","valueAxisLabel":"memory_usage_namespace"},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["memory_usage","limits_memory"],"leftAxisDimensions":["k8s.namespace.name","memory_usage_namespace","memory_limits_namespace","memory_limits_utilization_percent"]},"hiddenLegendFields":["k8sspace.name"]},"singleValue":{"showLabel":false,"label":"","prefixIcon":"","recordField":"memory_limits_utilization_percent","autoscale":true,"sparklineSettings":{"isVisible":false,"showTicks":false},"alignment":"center","trend":{"isVisible":false},"colorThresholdTarget":"background"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"honeycomb":{"shape":"hexagon","legend":"auto","dataMappings":{"value":"k8s.namespace.name"},"displayedFields":["k8s.namespace.name"],"colorMode":"color-palette","colorPalette":"categorical"},"histogram":{"dataMappings":[{"valueAxis":"interval","rangeAxis":""},{"valueAxis":"memory_usage_namespace","rangeAxis":""},{"valueAxis":"memory_limits_namespace","rangeAxis":""},{"valueAxis":"memory_limits_utilization_percent","rangeAxis":""}]},"unitsOverrides":[{"identifier":"memory_limits_utilization_percent","unitCategory":"percentage","baseUnit":"percent","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":1715164486934}]},"querySettings":{"maxResultRecords":20000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"13":{"type":"data","title":"CPU Usage per Pod","query":"timeseries {\n  cpu_usage = sum(dt.kubernetes.container.cpu_usage, rollup:avg)\n}, filter: {\n  k8s.cluster.name == $Cluster AND\n  k8s.namespace.name == $Namespace\n}, by: { dt.entity.cloud_application_instance, k8s.pod.name }\n| filter isNotNull(cpu_usage)\n| sort cpu_usage desc\n| limit 20","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"areaChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"gap","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"k8s.pod.name","categoryAxisLabel":"k8s.pod.name","valueAxis":"interval","valueAxisLabel":"interval"},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["cpu_usage"],"leftAxisDimensions":["dt.entity.cloud_application_instance","k8s.pod.name"]},"hiddenLegendFields":["dt.entity.cloud_application_instance"],"legend":{"position":"bottom","hidden":false}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"id","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"honeycomb":{"shape":"hexagon","legend":"auto","dataMappings":{"value":"dt.entity.cloud_application_instance"},"displayedFields":["dt.entity.cloud_application_instance"],"colorMode":"color-palette","colorPalette":"categorical"},"histogram":{"dataMappings":[{"valueAxis":"interval","rangeAxis":""}]},"unitsOverrides":[{"identifier":"cpu","unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":1715178821410}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"15":{"type":"data","title":"CPU Quota","query":"timeseries {\n  cpu_usage = sum(dt.kubernetes.container.cpu_usage),\n  cpu_throttled = sum(dt.kubernetes.container.cpu_throttled),\n  requests_cpu = sum(dt.kubernetes.container.requests_cpu),\n  limits_cpu = sum(dt.kubernetes.container.limits_cpu)\n}, filter: {\n  k8s.cluster.name == $Cluster AND\n  k8s.namespace.name == $Namespace\n}, by: { dt.entity.cloud_application_instance, k8s.pod.name },\nfrom: -2m,\nnonempty: true,\nunion: true\n| fieldsRemove interval, timeframe\n| fieldsAdd cpu_usage = arrayFirst(cpu_usage)\n| fieldsAdd cpu_throttled = arrayFirst(cpu_throttled)\n| fieldsAdd requests_cpu = arrayFirst(requests_cpu)\n| fieldsAdd limits_cpu = arrayFirst(limits_cpu)\n| fieldsAdd requests_cpu_percent = cpu_usage / requests_cpu * 100\n| fieldsAdd limits_cpu_percent = cpu_usage / limits_cpu * 100\n| fieldsAdd cpu_slack = (requests_cpu - cpu_usage) / 1000\n| sort cpu_usage desc\n| fieldsRename `Name` = k8s.pod.name, `CPU Usage` = cpu_usage, `CPU Throttled` = cpu_throttled, `CPU Requests` = requests_cpu, `CPU Requests %` = requests_cpu_percent, `CPU Limits` = limits_cpu, `CPU Limits %` = limits_cpu_percent, `CPU Slack` = cpu_slack\n","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"table","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"dt.entity.cloud_application_instance","categoryAxisLabel":"dt.entity.cloud_application_instance","valueAxis":"CPU Usage","valueAxisLabel":"CPU Usage"}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"id","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[["id"],["namespace.id"],["namespace.labels"],["namespace.annotations"],["namespace.age"],["cluster.id"],["k8s.pod.uid"],["dt.entity.cloud_application_instance"]],"lineWrapIds":[],"columnWidths":{"[\"limits_cpu\"]":124.046875,"[\"requests_cpu\"]":142.453125,"[\"namespace.name\"]":231.140625,"[\"cpu_usage\"]":157.8125,"[\"cpu_throttled\"]":164.46875,"[\"requests_cpu_percent\"]":191.28125,"[\"limits_cpu_percent\"]":175.859375},"sortBy":{"columnId":"[\"CPU Usage\"]","direction":"descending"}},"honeycomb":{"shape":"hexagon","legend":"auto","dataMappings":{"value":"dt.entity.cloud_application_instance"},"displayedFields":["dt.entity.cloud_application_instance"],"colorMode":"color-palette","colorPalette":"categorical"},"histogram":{"dataMappings":[{"valueAxis":"CPU Usage","rangeAxis":""},{"valueAxis":"CPU Throttled","rangeAxis":""},{"valueAxis":"CPU Requests","rangeAxis":""},{"valueAxis":"CPU Limits","rangeAxis":""},{"valueAxis":"CPU Requests %","rangeAxis":""},{"valueAxis":"CPU Limits %","rangeAxis":""},{"valueAxis":"CPU Slack","rangeAxis":""}]},"unitsOverrides":[{"identifier":"CPU Usage","unitCategory":"unspecified","baseUnit":"millicore","displayUnit":null,"decimals":1,"suffix":"","delimiter":false,"added":1715618539759},{"identifier":"CPU Throttled","unitCategory":"unspecified","baseUnit":"millicore","displayUnit":null,"decimals":1,"suffix":"","delimiter":false,"added":1715618579313},{"identifier":"CPU Requests","unitCategory":"unspecified","baseUnit":"millicore","displayUnit":null,"decimals":1,"suffix":"","delimiter":false,"added":1715618597827},{"identifier":"CPU Limits","unitCategory":"unspecified","baseUnit":"millicore","displayUnit":null,"decimals":1,"suffix":"","delimiter":false,"added":1715618609828},{"identifier":"CPU Slack","unitCategory":"unspecified","baseUnit":"core","displayUnit":null,"decimals":1,"suffix":"","delimiter":false,"added":1715618618693},{"identifier":"CPU Requests %","unitCategory":"percentage","baseUnit":"percent","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":1715686358414},{"identifier":"CPU Limits %","unitCategory":"percentage","baseUnit":"percent","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":1715687708509}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"16":{"type":"markdown","title":"","content":"# Pods in Namespace: $Namespace"},"17":{"type":"markdown","title":"","content":"## CPU\n"},"18":{"type":"markdown","title":"","content":"## Memory"},"19":{"type":"data","title":"Memory Usage per Pod","query":"timeseries {\n  memory_usage = sum(dt.kubernetes.container.memory_working_set, rollup:avg)\n}, filter: {\n  k8s.cluster.name == $Cluster AND\n  k8s.namespace.name == $Namespace\n}, by: { dt.entity.cloud_application_instance, k8s.pod.name }\n| sort memory_usage desc\n| limit 20","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"areaChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"gap","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"k8s.pod.name","categoryAxisLabel":"k8s.pod.name","valueAxis":"interval","valueAxisLabel":"interval"},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["memory_usage"],"leftAxisDimensions":["dt.entity.cloud_application_instance","k8s.pod.name"]},"hiddenLegendFields":["dt.entity.cloud_application_instance"],"legend":{"position":"bottom","hidden":false}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"id","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"honeycomb":{"shape":"hexagon","legend":"auto","dataMappings":{"value":"dt.entity.cloud_application_instance"},"displayedFields":["dt.entity.cloud_application_instance"],"colorMode":"color-palette","colorPalette":"categorical"},"histogram":{"dataMappings":[{"valueAxis":"interval","rangeAxis":""}]},"unitsOverrides":[]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"20":{"type":"data","title":"Memory Quota","query":"timeseries {\n  memory_usage = sum(dt.kubernetes.container.memory_working_set),\n  requests_memory = sum(dt.kubernetes.container.requests_memory),\n  limits_memory = sum(dt.kubernetes.container.limits_memory)\n}, filter: {\n  k8s.cluster.name == $Cluster AND\n  k8s.namespace.name == $Namespace\n}, by: { dt.entity.cloud_application_instance, k8s.pod.name },\nfrom: -2m,\nnonempty: true,\nunion: true\n| fieldsRemove interval, timeframe\n| fieldsAdd memory_usage = arrayFirst(memory_usage)\n| fieldsAdd requests_memory = arrayFirst(requests_memory)\n| fieldsAdd limits_memory = arrayFirst(limits_memory)\n| fieldsAdd requests_memory_percent = memory_usage / requests_memory * 100\n| fieldsAdd limits_memory_percent = memory_usage / limits_memory * 100\n| fieldsAdd memory_slack = (requests_memory - memory_usage)\n| sort memory_usage desc\n| fieldsRename `Name` = k8s.pod.name, `Memory Usage` = memory_usage, `Memory Requests` = requests_memory, `Memory Requests %` = requests_memory_percent, `Memory Limits` = limits_memory, `Memory Limits %` = limits_memory_percent, `Memory Slack` = memory_slack","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"table","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"dt.entity.cloud_application_instance","categoryAxisLabel":"dt.entity.cloud_application_instance","valueAxis":"Memory Usage","valueAxisLabel":"Memory Usage"}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"id","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[["id"],["namespace.id"],["namespace.labels"],["namespace.annotations"],["namespace.age"],["cluster.id"],["dt.entity.cloud_application_instance"]],"lineWrapIds":[],"columnWidths":{"[\"limits_cpu\"]":124.046875,"[\"requests_cpu\"]":142.453125,"[\"namespace.name\"]":231.140625,"[\"cpu_usage\"]":157.8125,"[\"cpu_throttled\"]":164.46875,"[\"requests_cpu_percent\"]":191.28125,"[\"limits_cpu_percent\"]":175.859375},"sortBy":{"columnId":"[\"Memory Usage\"]","direction":"descending"}},"honeycomb":{"shape":"hexagon","legend":"auto","dataMappings":{"value":"dt.entity.cloud_application_instance"},"displayedFields":["dt.entity.cloud_application_instance"],"colorMode":"color-palette","colorPalette":"categorical"},"histogram":{"dataMappings":[{"valueAxis":"Memory Usage","rangeAxis":""},{"valueAxis":"Memory Requests","rangeAxis":""},{"valueAxis":"Memory Limits","rangeAxis":""},{"valueAxis":"Memory Requests %","rangeAxis":""},{"valueAxis":"Memory Limits %","rangeAxis":""},{"valueAxis":"Memory Slack","rangeAxis":""}]},"unitsOverrides":[{"identifier":"Memory Usage","unitCategory":"data","baseUnit":"byte","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":1715698159493},{"identifier":"Memory Requests","unitCategory":"data","baseUnit":"byte","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":1715698181310},{"identifier":"Memory Requests %","unitCategory":"percentage","baseUnit":"percent","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":1715698189862},{"identifier":"Memory Limits","unitCategory":"data","baseUnit":"byte","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":1715698204816},{"identifier":"Memory Limits %","unitCategory":"percentage","baseUnit":"percent","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":1715698213152},{"identifier":"Memory Slack","unitCategory":"data","baseUnit":"byte","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":1715698222294}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}}},"layouts":{"6":{"x":0,"y":1,"w":6,"h":2},"7":{"x":0,"y":3,"w":6,"h":2},"8":{"x":18,"y":1,"w":6,"h":4},"9":{"x":6,"y":1,"w":6,"h":2},"10":{"x":6,"y":3,"w":6,"h":2},"11":{"x":12,"y":1,"w":6,"h":2},"12":{"x":12,"y":3,"w":6,"h":2},"13":{"x":0,"y":6,"w":24,"h":5},"15":{"x":0,"y":11,"w":24,"h":7},"16":{"x":0,"y":0,"w":24,"h":1},"17":{"x":0,"y":5,"w":24,"h":1},"18":{"x":0,"y":18,"w":24,"h":1},"19":{"x":0,"y":19,"w":24,"h":5},"20":{"x":0,"y":24,"w":24,"h":8}},"importedWithCode":false}